<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse - Hibernate Tools
-->

<hibernate-mapping package="com.mangocity.hotel.order.persistence">
    <class name="OrDailyAudit" table="OR_DAILYAUDIT" lazy="true"   dynamic-insert="true" dynamic-update="true">
   	<id name="ID">
			<generator class="sequence">
				<param name="sequence">seq_order_dailyaudit</param>
			</generator>
	</id>        
	
         <property name="hotelId" />
         <property name="hotelName" />
         <property name="sendTime" />	
         <property name="status" />
         <property name="isOverTime" />
         <property name="faxFile" />	
         <property name="completeTime" />
         <property name="checkNight" />	  
         <property name="addTime" />
         <property name="assignTo" />	
         <property name="faxConfirm" />
         <property name="orderNumbers" />
         <property name="dailyAuditTime" />
         
        <!-- 和OrOrderItem关联 -->
    	<bag name="orderItems" cascade="all-delete-orphan"
			inverse="true" lazy="true">
			<key column="ID"></key>
			<one-to-many class="OrOrderItem" />
		</bag>         
 
    </class>
    
	<!-- 查询日审酒店是否存在 -->   
	<query name="hQueryAudit_Daily">
		<![CDATA[ 
		from OrDailyAudit a 
		where 
			a.hotelId = ?
			and a.checkNight = ?
		order by
			a.hotelId 
		]]>
	</query>	
    
</hibernate-mapping>
