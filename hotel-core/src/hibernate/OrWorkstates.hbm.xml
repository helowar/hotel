<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse - Hibernate Tools
-->
<hibernate-mapping package="com.mangocity.hotel.base.persistence">
   <class name="OrWorkStates" table="OR_WORKSTATES" lazy="false"   dynamic-insert="true" dynamic-update="true">
	<id name="ID">
			<generator class="sequence">
				<param name="sequence">seq_order_workstates</param>
			</generator>
	</id>    
    
         <property name="logonId" />
         <property name="type" />
         <property name="name" />
         <property name="groups" />
         <property name="state" />
         <property name="createTime" />
         <property name="total" />
         <property name="wait" />
         <property name="working" />
         <property name="emergency" />         
         <property name="assignCoef" /> 
         <property name="modifier" /> 
         <property name="modifyTime" /> 
         <property name="lastLoginTime" column="LAST_LOGIN_TIME"/> 
         <property name="rscCount"  column="RSC_COUNT"/> 
         
		
		<!-- 和OrWorkStatesByGroup关联 -->
    	<bag name="items" cascade="all-delete-orphan"
			inverse="true" lazy="false">
			<key column="ID"></key>
			<one-to-many class="com.mangocity.hotel.order.persistence.OrWorkStatesByGroup" />
		</bag>
		<bag name="wskills" inverse="true" lazy="false" cascade="none" fetch="select">
			<key column="LOGON_ID" property-ref="logonId"></key>
			<one-to-many class="com.mangocity.hotel.base.persistence.WorkStatesSkill"/>
		</bag>

   </class>
   
	<!-- 按日审员登录名和类别查询日审员 -->   
	<query name="queryWorkstates_ItemNum1">
		<![CDATA[ 
		from OrWorkStates a 
		where 
			a.logonId = ?
			and a.type = ? 
			and a.state = '1'
		]]>
	</query>
</hibernate-mapping>
