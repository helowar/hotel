<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
     create by zhijie.gu 2009-10-14
     优惠立减条款
-->
<hibernate-mapping package="com.mangocity.hotel.base.persistence" default-lazy="false">
    <class name="HtlFavourableDecrease" table="HTL_FAVOURABLE_DECREASE" dynamic-insert="true" dynamic-update="true">
        <id name="id"  column ="ID">
            <generator class="sequence">
				<param name="sequence">SEQ_HTL_FAVOURABLE_DECREASE</param>
			</generator>
        </id>
      	<property name="hotelId">
            <column name="HOTEL_ID"/>
        </property>
      	<property name="priceTypeId">
            <column name="PRICETYPE_ID"/>
        </property>
        <property name="beginDate">
            <column name="BEGINDATE"/>
        </property>
        <property name="endDate">
            <column name="ENDDATE"/>
        </property>
        <property name="week">
            <column name="WEEK"/>
        </property>
        <property name="payMethod">
            <column name="PAYMETHOD"/>
        </property>
        <property name="decreasePrice">
            <column name="DECREASEPRICE"/>
        </property>
        <property name="createById">
            <column name="CREATE_BY_ID"/>
        </property>
        <property name="createBy">
            <column name="CREATE_BY"/>
        </property> 
        <property name="createTime">
            <column name="CREATE_TIME"/>
        </property>
        <property name="modifyById">
            <column name="MODIFY_BY_ID"/>
        </property>
        <property name="modifyBy">
            <column name="MODIFY_BY"/>
        </property>
        <property name="modifyTime">
            <column name="MODIFY_TIME"/>
        </property>
         <property name="priceTypeName">
            <column name="PRICETYPE_NAME"/>
        </property>
         <property name="basePrice">
            <column name="BASE_PRICE"/>
        </property>
     </class>
      <query name="queryFavourableDecreaseOrder">
			<![CDATA[ 
				from HtlFavourableDecrease fd where fd.hotelId = ? and fd.priceTypeId = ?  order by fd.modifyTime desc
			]]>
		</query>
		
		<query name="querySubFavDecrease">
			<![CDATA[ 
				from HtlFavourableDecrease fd where fd.hotelId = ? and fd.priceTypeId = ?  and fd.modifyTime<=? order by fd.beginDate
			]]>
		</query>
</hibernate-mapping>
